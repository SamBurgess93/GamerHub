{% extends "base.html" %}
{% block content %}

<div class="row">
  <div class="col s12">
    <h1 class="center-align general-title" id="top">{{ page_title }}</h1>

    <!-- Button to add a category -->
    <div class="row">
      <div class="col s12 center-align">
        <a href="{{ url_for('add_category') }}" class="btn-large waves-effect waves-light blue lighten-1">
          Add a new category to GamerHUB<i class="material-icons right"></i>
        </a>
      </div>
    </div>
    <div class="row">
      <div class="col s12 center-align">
        <h2>Manage existing categories</h2>
      </div>
    </div>

    <!-- Code for collapsible from  Materialise.com -->
    <ul class="collapsible">
      {% for category in categories %}
      <li>
        <div class="collapsible-header blue lighten-5"><i class="material-icons"></i>{{ category.category_name }}
        </div>
        <div class="collapsible-body"><span><a href="{{ url_for('edit_category', category_id=category._id) }}"
              class="btn-large waves-effect waves-light blue lighten-1"><i class="material-icons right"></i>Edit
              this category name</a>
            <a href="#modal{{ category._id }}"
              class="btn-large waves-effect waves-light blue lighten-1 modal-trigger"><i
                class="material-icons right"></i>Delete this category</a></span>
        </div>
      </li>

      <!--  Delete category modal -->
      <div id="modal{{ category._id }}"" class=" modal">
        <div class="modal-content red">
          <h3>Are you sure you want to delete this entire category?</h3>
          <p>The category, all its technologies and associated comments will be deleted and you will not be able to
            retrieve them</p>
        </div>
        <div class="modal-footer center-align">
          <a href="{{ url_for('delete_category', category_id=category._id) }}"
            class="modal-close waves-effect waves-light btn-small red align-right">Yes I am
            certain
            I
            want to
            delete this category</a>
          <a href="{{ url_for('manage_categories') }}"
            class="modal-close waves-effect waves-light btn-small blue lighten-1 align-right">No,
            return to
            safety</a>
        </div>
      </div>
      {% endfor %}
    </ul>
  </div>
</div>


{% endblock %}